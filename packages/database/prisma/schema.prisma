datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  uuid String @id @default(uuid()) @db.Uuid
  email String @unique
  name String
  icon String?
  createdAt DateTime @default(now())
  createdBy String
  updatedAt DateTime?
  updatedBy String?
  revokedAt DateTime?
  revokedBy String?
  postHearts Post_Heart[]
}

model Post {
  uuid String @id @default(uuid()) @db.Uuid
  title String
  detail String
  calorie Int?
  difficulty Int?
  materials Post_Material[]
  process Process[]
  hearts Post_Heart[]
}

model Post_Material {
  uuid String @id @default(uuid()) @db.Uuid
  postId String @db.Uuid
  post Post @relation(fields: [postId], references: [uuid])
  materialId String @db.Uuid
  quantity Int
}

model Material {
  uuid String @id @default(uuid()) @db.Uuid
  name String
}

model Process {
  uuid String @id @default(uuid()) @db.Uuid
  text String
  image String?
  postId String @db.Uuid
  post Post @relation(fields: [postId], references: [uuid])
}

model Post_Heart {
  uuid String @id @default(uuid()) @db.Uuid
  userId String @db.Uuid
  user User @relation(fields: [userId], references: [uuid])
  postId String @db.Uuid
  post Post @relation(fields: [postId], references: [uuid])
}